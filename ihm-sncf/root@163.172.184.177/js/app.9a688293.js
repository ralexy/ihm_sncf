(function(e){function t(t){for(var a,s,i=t[0],o=t[1],l=t[2],p=0,b=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&b.push(n[s][0]),n[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);u&&u(t);while(b.length)b.shift()();return c.push.apply(c,l||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],a=!0,i=1;i<r.length;i++){var o=r[i];0!==n[o]&&(a=!1)}a&&(c.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},n={app:0},c=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=o;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},3417:function(e,t,r){},3895:function(e,t,r){e.exports=r.p+"img/rotatephone.0a042f48.png"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("7a23"),n=Object(a["h"])("Kelcarte?");function c(e,t){var r=Object(a["y"])("router-link"),c=Object(a["y"])("router-view");return Object(a["s"])(),Object(a["f"])(a["a"],null,[Object(a["g"])("header",null,[Object(a["g"])("h1",null,[Object(a["i"])(r,{"router-link":"",to:"/"},{default:Object(a["F"])((function(){return[n]})),_:1})])]),Object(a["g"])("main",null,[Object(a["i"])(c)])],64)}r("d35b");var s=r("6b0d"),i=r.n(s);const o={},l=i()(o,[["render",c]]);var u=l,p=r("6c02");function b(e,t,r,n,c,s){var i=Object(a["y"])("ButtonStep"),o=Object(a["y"])("router-link"),l=Object(a["y"])("StepArticle");return Object(a["s"])(),Object(a["d"])(l,{id:"step0",title:"Simulateur de carte jeune 18/28 ans"},{default:Object(a["F"])((function(){return[Object(a["i"])(o,{to:"step1"},{default:Object(a["F"])((function(){return[Object(a["i"])(i,{msg:"Démarrer la simulation"})]})),_:1})]})),_:1})}var d=["id"];function j(e,t,r,n,c,s){var i=Object(a["y"])("Breadcrumb");return Object(a["s"])(),Object(a["f"])("article",{id:r.id},[Object(a["g"])("h1",null,Object(a["A"])(r.title),1),r.breadCrumbStep?(Object(a["s"])(),Object(a["d"])(i,{key:0,step:r.breadCrumbStep},null,8,["step"])):Object(a["e"])("",!0),Object(a["x"])(e.$slots,"default")],8,d)}var O={"aria-label":"breadcrumb",class:"breadcrumb"},h={key:0},g=Object(a["g"])("span",{class:"step active"},"1",-1),f=Object(a["h"])(),m=Object(a["g"])("span",{"aria-current":"page",class:"stepTextActive hide"},"Saisie du trajet",-1),y=[g,f,m],v={key:1},S=Object(a["g"])("span",{class:"step"},"1",-1),k=Object(a["h"])(),A=Object(a["g"])("span",{class:"hide"},"Saisie du trajet",-1),x={key:2},D=Object(a["g"])("span",{class:"step active"},"2",-1),R=Object(a["h"])(),C=Object(a["g"])("span",{"aria-current":"page",class:"stepTextActive hide"},"Saisie fréquence de voyage",-1),q=[D,R,C],F={key:3},w=Object(a["g"])("span",{class:"step"},"2",-1),J=Object(a["h"])(),P=Object(a["g"])("span",{class:"hide"},"Saisie fréquence de voyage",-1),_=[w,J,P],B={key:4},G=Object(a["g"])("span",{class:"step"},"2",-1),N=Object(a["h"])(),T=Object(a["g"])("span",{class:"hide"},"Saisie fréquence de voyage",-1),I={key:5},M=Object(a["g"])("span",{class:"step active"},"3",-1),$=Object(a["h"])(),V=Object(a["g"])("span",{"aria-current":"page",class:"stepTextActive hide"},"Saisie horaire de voyage",-1),E=[M,$,V],U={key:6},H=Object(a["g"])("span",{class:"step"},"3",-1),L=Object(a["h"])(),W=Object(a["g"])("span",{class:"hide"},"Saisie horaire de voyage",-1),z=[H,L,W],K={key:7},Q=Object(a["g"])("span",{class:"step"},"3",-1),X=Object(a["h"])(),Y=Object(a["g"])("span",{class:"hide"},"Saisie horaire de voyage",-1),Z={key:8},ee=Object(a["g"])("span",{class:"step active"},"4",-1),te=Object(a["h"])(),re=Object(a["g"])("span",{"aria-current":"page",class:"stepTextActive hide"},"Résultat",-1),ae=[ee,te,re],ne={key:9},ce=Object(a["g"])("span",{class:"step"},"4",-1),se=Object(a["h"])(),ie=Object(a["g"])("span",{class:"hide"},"Résultat",-1),oe=[ce,se,ie];function le(e,t,r,n,c,s){var i=Object(a["y"])("router-link");return Object(a["s"])(),Object(a["f"])("nav",O,[Object(a["g"])("ul",null,[1==r.step?(Object(a["s"])(),Object(a["f"])("li",h,y)):(Object(a["s"])(),Object(a["f"])("li",v,[Object(a["i"])(i,{to:"step1"},{default:Object(a["F"])((function(){return[S,k,A]})),_:1})])),2==r.step?(Object(a["s"])(),Object(a["f"])("li",x,q)):Object(a["e"])("",!0),r.step<2?(Object(a["s"])(),Object(a["f"])("li",F,_)):Object(a["e"])("",!0),r.step>2?(Object(a["s"])(),Object(a["f"])("li",B,[Object(a["i"])(i,{to:"step2"},{default:Object(a["F"])((function(){return[G,N,T]})),_:1})])):Object(a["e"])("",!0),3==r.step?(Object(a["s"])(),Object(a["f"])("li",I,E)):Object(a["e"])("",!0),r.step<3?(Object(a["s"])(),Object(a["f"])("li",U,z)):Object(a["e"])("",!0),r.step>3?(Object(a["s"])(),Object(a["f"])("li",K,[Object(a["i"])(i,{to:"step3"},{default:Object(a["F"])((function(){return[Q,X,Y]})),_:1})])):Object(a["e"])("",!0),4==r.step?(Object(a["s"])(),Object(a["f"])("li",Z,ae)):(Object(a["s"])(),Object(a["f"])("li",ne,oe))])])}var ue={name:"BreadCrumb",props:{step:String}};const pe=i()(ue,[["render",le]]);var be=pe,de={props:{id:String,title:String,breadCrumbStep:String},components:{Breadcrumb:be}};const je=i()(de,[["render",j]]);var Oe=je,he={class:"center"};function ge(e,t,r,n,c,s){return Object(a["s"])(),Object(a["f"])("p",he,[Object(a["g"])("button",null,Object(a["A"])(r.msg),1)])}var fe={name:"ButtonStep",props:{msg:String,link:String}};const me=i()(fe,[["render",ge]]);var ye=me,ve={name:"Step0",components:{StepArticle:Oe,ButtonStep:ye}};const Se=i()(ve,[["render",b]]);var ke=Se,Ae={class:"center"},xe={id:"depart"},De=["value"],Re=Object(a["g"])("span",{class:"smallHide"}," ",-1),Ce=Object(a["g"])("option",{selected:"",disabled:""},"Choisir une gare d'arrivée",-1),qe=["value"],Fe=Object(a["g"])("p",{class:"center min"},[Object(a["g"])("sup",null,"* La carte jeune m'est inutile si je ne trouve pas mon trajet habituel.")],-1);function we(e,t,r,n,c,s){var i=Object(a["y"])("ButtonStep"),o=Object(a["y"])("StepArticle");return Object(a["s"])(),Object(a["d"])(o,{id:"step1",title:"Etape 1. Saisie du trajet",breadCrumbStep:"1"},{default:Object(a["F"])((function(){return[Object(a["g"])("form",{onSubmit:t[2]||(t[2]=function(){return s.checkForm&&s.checkForm.apply(s,arguments)}),autocomplete:"off"},[Object(a["g"])("p",Ae,[Object(a["G"])(Object(a["g"])("input",{list:"depart","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.depart=e}),placeholder:"Gare de départ",name:"depart",required:""},null,512),[[a["D"],c.depart]]),Object(a["g"])("datalist",xe,[(Object(a["s"])(!0),Object(a["f"])(a["a"],null,Object(a["w"])(c.garesDepart,(function(e){return Object(a["s"])(),Object(a["f"])("option",{value:e.nameGare,key:e.id},Object(a["A"])(e.nameGare),9,De)})),128))]),Re,Object(a["G"])(Object(a["g"])("select",{name:"arrivee","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.arrivee=e}),id:"arrivee",required:""},[Ce,(Object(a["s"])(!0),Object(a["f"])(a["a"],null,Object(a["w"])(c.garesArrivee,(function(e){return Object(a["s"])(),Object(a["f"])("option",{value:e.nameGareDestination,key:e.id},Object(a["A"])(e.nameGareDestination),9,qe)})),128))],512),[[a["C"],c.arrivee]])]),Fe,Object(a["i"])(i,{msg:"Passer à l'étape suivante"})],32)]})),_:1})}r("e9c4");var Je="http://kelcarw.cluster029.hosting.ovh.net",Pe=Je,_e={name:"Step1",components:{StepArticle:Oe,ButtonStep:ye},data:function(){return{depart:null,arrivee:null,garesDepart:null,garesArrivee:null}},methods:{checkForm:function(e){e.preventDefault(),this.depart&&this.arrivee&&(localStorage.garesDepart=JSON.stringify(this.garesDepart),localStorage.garesArrivee=JSON.stringify(this.garesArrivee),localStorage.depart=this.depart,localStorage.arrivee=this.arrivee,this.$router.push("step2"))}},watch:{depart:{handler:function(e,t){var r=this;if(e.length>=3?this.axios.get(Pe+"?action=suggestOriginStation&nameGare="+e).then((function(e){return r.garesDepart=e.data})):(this.garesDepart=null,this.garesArrivee=null),null!==t&&t.length>e.length&&(this.garesDepart=null,this.garesArrivee=null),null!==this.garesDepart)for(var a=0;a<this.garesDepart.length;a++){var n=JSON.parse(JSON.stringify(this.garesDepart[a]));n["nameGare"]==e&&this.axios.get(Pe+"?action=suggestDestinationStation&nameGare="+this.depart).then((function(e){return r.garesArrivee=e.data}))}}}},mounted:function(){console.log(Pe),localStorage.depart&&(this.depart=localStorage.depart),localStorage.arrivee&&(this.arrivee=localStorage.arrivee),localStorage.garesDepart&&(this.garesDepart=JSON.parse(localStorage.garesDepart)),localStorage.garesArrivee&&(this.garesArrivee=JSON.parse(localStorage.garesArrivee))}};const Be=i()(_e,[["render",we]]);var Ge=Be,Ne={class:"center"},Te=Object(a["h"])("Je compte voyager environ "),Ie=Object(a["h"])(" fois par an");function Me(e,t,r,n,c,s){var i=Object(a["y"])("ButtonStep"),o=Object(a["y"])("StepArticle");return Object(a["s"])(),Object(a["d"])(o,{id:"step2",title:"Etape 2. Saisie fréquence de voyage",breadCrumbStep:"2"},{default:Object(a["F"])((function(){return[Object(a["g"])("form",{method:"post",onSubmit:t[1]||(t[1]=function(){return s.checkForm&&s.checkForm.apply(s,arguments)}),autocomplete:"off"},[Object(a["g"])("p",Ne,[Te,Object(a["G"])(Object(a["g"])("input",{type:"number",name:"frequence",id:"frequence","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.frequence=e}),step:"1",min:"1",max:"364"},null,512),[[a["D"],c.frequence]]),Ie]),Object(a["i"])(i,{msg:"Passer à l'étape suivante",link:"step3"})],32)]})),_:1})}var $e={name:"Step1",components:{StepArticle:Oe,ButtonStep:ye},data:function(){return{frequence:1}},watch:{frequence:function(e){(e<0||e>364)&&(this.frequence=1)}},methods:{checkForm:function(e){e.preventDefault(),localStorage.frequence=this.frequence,this.$router.push("step3")}},mounted:function(){localStorage.frequence&&(this.frequence=localStorage.frequence)},created:function(){localStorage.garesDepart&&localStorage.garesArrivee||this.$router.push("step1")}};const Ve=i()($e,[["render",Me]]);var Ee=Ve,Ue={class:"center"},He=Object(a["h"])("Je voyage en général le "),Le=["value"],We=["value"],ze=Object(a["g"])("span",{class:"smallHide"},"vers",-1),Ke=["value"],Qe=["value"];function Xe(e,t,r,n,c,s){var i=Object(a["y"])("ButtonStep"),o=Object(a["y"])("StepArticle");return Object(a["s"])(),Object(a["d"])(o,{id:"step3",title:"Etape 3. Saisie Horaire de voyage",nextStepMsg:"Afficher le résultat",nextStepLink:"result",breadCrumbStep:"3"},{default:Object(a["F"])((function(){return[Object(a["g"])("form",{method:"post",onSubmit:t[2]||(t[2]=function(){return s.checkForm&&s.checkForm.apply(s,arguments)})},[Object(a["g"])("p",Ue,[He,Object(a["G"])(Object(a["g"])("select",{name:"day",id:"day","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.day=e}),required:""},[(Object(a["s"])(!0),Object(a["f"])(a["a"],null,Object(a["w"])(c.days,(function(e,t){return Object(a["s"])(),Object(a["f"])(a["a"],null,[t!=c.day?(Object(a["s"])(),Object(a["f"])("option",{value:t,key:"1option"+e.key},Object(a["A"])(e),9,Le)):(Object(a["s"])(),Object(a["f"])("option",{value:t,key:"2option"+e.key,selected:"selected"},Object(a["A"])(e),9,We))],64)})),256))],512),[[a["C"],c.day]]),ze,Object(a["G"])(Object(a["g"])("select",{name:"day",id:"hour","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.hour=e}),required:""},[(Object(a["s"])(!0),Object(a["f"])(a["a"],null,Object(a["w"])(c.hours,(function(e,t){return Object(a["s"])(),Object(a["f"])(a["a"],null,[t!=c.hour?(Object(a["s"])(),Object(a["f"])("option",{value:t,key:"1option"+e.key},Object(a["A"])(e),9,Ke)):Object(a["e"])("",!0),t==c.hour?(Object(a["s"])(),Object(a["f"])("option",{value:t,selected:"selected",key:"2option"+e.key},Object(a["A"])(e),9,Qe)):Object(a["e"])("",!0)],64)})),256))],512),[[a["C"],c.hour]])]),Object(a["i"])(i,{msg:"Afficher le résultat",link:"result"})],32)]})),_:1})}var Ye={name:"Step3",components:{StepArticle:Oe,ButtonStep:ye},data:function(){return{day:null,hour:null,days:{0:"Je ne sais pas",1:"Lundi",2:"Mardi",3:"Mercredi",4:"Jeudi",5:"Vendredi",6:"Samedi",7:"Dimanche"},hours:{0:"Je ne sais pas",1:"0h00",100:"1h00",200:"2h00",300:"3h00",400:"4h00",500:"5h00",600:"6h00",700:"7h00",800:"8h00",900:"9h00",1e3:"10h00",1100:"11h00",1200:"12h00",1300:"13h00",1400:"14h00",1500:"15h00",1600:"16h00",1700:"17h00",1800:"18h00",1900:"19h00",2e3:"20h00",2100:"21h00",2200:"22h00",2300:"23h00"}}},methods:{checkForm:function(e){var t=this;e.preventDefault(),null!==this.day&&null!==this.hour&&(localStorage.day=this.day,localStorage.hour=this.hour,console.log(Pe+"?action=getPrices&origin="+localStorage.depart+"&destination="+localStorage.arrivee+"&day="+this.day+"&hour="+this.hour+"&frequence="+localStorage.frequence),this.axios.get(Pe+"?action=getPrices&origin="+localStorage.depart+"&destination="+localStorage.arrivee+"&day="+this.day+"&hour="+this.hour+"&frequence="+localStorage.frequence).then((function(e){localStorage.apiResponse=JSON.stringify(e.data),console.log(e.data),t.$router.push("result")})))}},created:function(){localStorage.day&&(this.day=localStorage.day),localStorage.hour&&(this.hour=localStorage.hour),localStorage.garesDepart&&localStorage.garesArrivee||this.$router.push("step2")}};const Ze=i()(Ye,[["render",Xe]]);var et=Ze,tt=r("3895"),rt=r.n(tt),at=Object(a["g"])("img",{src:rt.a,id:"rotatePhone"},null,-1),nt={id:"resultData"},ct={key:0,class:"green center"},st={key:1,class:"red center"},it={key:2,class:"green center"},ot={key:3,class:"green center"},lt={key:4,class:"red center"};function ut(e,t,r,n,c,s){var i=Object(a["y"])("vue3-chart-js"),o=Object(a["y"])("ButtonStep"),l=Object(a["y"])("StepArticle");return Object(a["s"])(),Object(a["d"])(l,{id:"result",title:"Etape 4. Résultat",breadCrumbStep:"4"},{default:Object(a["F"])((function(){return[at,Object(a["g"])("span",nt,[null!==c.apiResponse?(Object(a["s"])(),Object(a["f"])(a["a"],{key:0},[c.apiResponse.interesting?(Object(a["s"])(),Object(a["f"])("h2",ct,"J'ai intérêt à prendre la carte jeune")):Object(a["e"])("",!0),c.apiResponse.isInteresting?Object(a["e"])("",!0):(Object(a["s"])(),Object(a["f"])("h2",st,"Je n'ai pas intérêt à prendre la carte jeune")),c.apiResponse.isInteresting?(Object(a["s"])(),Object(a["f"])("h3",it,"Je peux économiser "+Object(a["A"])(c.apiResponse.savedMoney)+"€",1)):Object(a["e"])("",!0),c.apiResponse.isInteresting?(Object(a["s"])(),Object(a["f"])("h4",ot,"Elle se rembourse en "+Object(a["A"])(c.apiResponse.isInterestingNb)+" trajets",1)):Object(a["e"])("",!0),c.apiResponse.isInteresting?Object(a["e"])("",!0):(Object(a["s"])(),Object(a["f"])("h4",lt,"Elle est intéressante au bout de "+Object(a["A"])(c.apiResponse.isInterestingNb)+" trajets effectués",1)),Object(a["i"])(i,{id:c.chart1.id,ref:null,type:c.chart1.type,data:c.chart1.data,options:c.chart1.options},null,8,["id","type","data","options"]),Object(a["i"])(i,{id:c.chart2.id,ref:null,type:c.chart2.type,data:c.chart2.data,options:c.chart2.options},null,8,["id","type","data","options"])],64)):Object(a["e"])("",!0)]),Object(a["i"])(o,{msg:"Recommencer",link:"/",onClick:s.checkForm},null,8,["onClick"])]})),_:1})}var pt=r("9c68"),bt={name:"Resultat",components:{StepArticle:Oe,ButtonStep:ye,Vue3ChartJs:pt["a"]},data:function(){return{apiResponse:null,chart1:{id:"chart1",type:"line",data:{labels:null,datasets:[{label:"Tarif normal",data:null,borderColor:["rgba(255,0,0,1)"],backgroundColor:["rgba(255,0,0,0.5)"],yAxisID:"y",unitSuffix:"€"},{label:"Tarif carte jeune",data:null,borderColor:["rgba(60,179,113,1)"],backgroundColor:["rgba(60,179,113,0.5)"],yAxisID:"y",unitSuffix:"€"}]},options:{responsive:!0,interaction:{mode:"index",intersect:!1},animations:{radius:{duration:400,easing:"linear",loop:function(e){return e.active}}},hoverRadius:12,hoverBackgroundColor:"yellow",stacked:!1,plugins:{title:{display:!0,text:"Comparaison du tarif normal et jeune SNCF en fonction du nombre de voyages"},tooltips:{callbacks:{afterTitle:function(e){return e.parsed.y+" trajets"}}}},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Prix en euros"}},x:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Nombre de trajets"},ticks:{min:1,stepSize:1}}}}},chart2:{type:"bar",data:{labels:[""],datasets:[{label:"Tarif normal",data:null,borderColor:["rgba(255,0,0,1)"],backgroundColor:["rgba(255,0,0,0.5)"],borderWidth:2,borderRadius:5,borderSkipped:!1},{label:"Tarif carte jeune",data:null,borderColor:["rgba(60,179,113,1)"],backgroundColor:["rgba(60,179,113,0.5)"],borderWidth:2,borderRadius:5,borderSkipped:!1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Tarifs des deux offres pour un trajet type"}},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Prix en euros"}}}}}}},watch:{apiResponse:function(){for(var e=[],t=[],r=[],a=0;a<this.apiResponse["simulation"].length;a++)e.push(a),t.push(this.apiResponse["simulation"][a]["normal"]),r.push(this.apiResponse["simulation"][a]["discount"]);this.chart1.data.labels=e,this.chart1.data.datasets[0].data=t,this.chart1.data.datasets[1].data=r,this.chart2.data.datasets[0].data=[this.apiResponse.normalPrice],this.chart2.data.datasets[1].data=[this.apiResponse.pricePromo]}},methods:{checkForm:function(e){e.preventDefault(),localStorage.clear(),this.$router.push("/")}},created:function(){localStorage.garesDepart&&localStorage.garesArrivee||this.$router.push("step3"),localStorage.apiResponse&&(this.apiResponse=JSON.parse(localStorage.apiResponse))}};const dt=i()(bt,[["render",ut]]);var jt=dt,Ot=[{path:"/",name:"Step0",component:ke},{path:"/step1",name:"Step1",component:Ge},{path:"/step2",name:"Step2",component:Ee},{path:"/step3",name:"Step3",component:et},{path:"/result",name:"Result",component:jt}],ht=Object(p["a"])({history:Object(p["b"])("/"),routes:Ot}),gt=ht,ft=r("bc3a"),mt=r.n(ft),yt=r("130e"),vt=Object(a["c"])(u);vt.use(gt),vt.use(Pe),vt.use(yt["a"],mt.a),vt.mount("#app")},d35b:function(e,t,r){"use strict";r("3417")}});
//# sourceMappingURL=app.9a688293.js.map