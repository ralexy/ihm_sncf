<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="css/sheet.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap" rel="stylesheet">
  <body>
<header>
    <h1><a href="index.html">Kelcarte?</a></h1>
</header>
<main>
    <article id="step1">
        <h1>Etape 4. Résultat</h1>
        <nav aria-label="Breadcrumb" class="breadcrumb">
            <ul>
                <li><a href="step2.html"><span class="step">1</span> <span class="hide">Saisie du trajet</span></a></li>
                <li><a href="step2.html"><span class="step">2</span> <span class="hide">Saisie fréquence de voyage</span></a></li>
                <li><a href="result.html"><span class="step">3</span> <span class="hide">Saisie horaire de voyage</span></a></li>
                <li><span class="step active">4</span> <span aria-current="page" class="stepTextActive hide">Résultat</span></li>
            </ul>
        </nav>

        <h2 class="green center">J'ai intérêt à prendre la carte jeune</h2>
        <h3 class="green center">Je peux économiser XX€ avec</h3>
        <h4 class="green center">Elle se rembourse en XX trajets</h4>

        <div>
            <div style="width: 70%; float: left;">
                <canvas id="chart1"></canvas>
            </div>   
            
            <div style="width: 30%; float: right;">
                <canvas id="chart2"></canvas>
            </div>

            <div style="clear: both;"></div>
            
            <p class="center">
                <a href="step1.html">
                    <button>Recommencer</button>
                </a>
            </p>
        </div>
    </article>
</main>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!--<script>
    const labels = [
      'January',
      'February',
      'March',
      'April',
      'May',
      'June',
    ];
  
    const data = {
      labels: labels,
      datasets: [{
        label: 'My First dataset',
        backgroundColor: 'rgb(255, 99, 132)',
        borderColor: 'rgb(255, 99, 132)',
        data: [0, 10, 5, 2, 20, 30, 45],
      }]
    };
  
    const config = {
      type: 'line',
      data: data,
      options: {}
    };

    const myChart = new Chart(
    document.getElementById('myChart'),
    config
  );
  </script>-->

  <script>
    const data1 = {
    labels: [1, 2, 3, 4, 5],
    datasets: [
        {
            label: 'Tarif normal',
            data: [100, 96, 84, 76, 69],
            borderColor: ['rgba(255,0,0,1)'],
            backgroundColor: ['rgba(255,0,0,0.5)'],
            yAxisID: 'y',
            unitSuffix: "€",
        },
        {
            label: 'Tarif carte jeune',
            data: [100, 9, 8, 6, 6],
            borderColor: ['rgba(60,179,113,1)'],
            backgroundColor: ['rgba(60,179,113,0.5)'],
            yAxisID: 'y',
            unitSuffix: "€",
        },
    ]
    };

    const config1 = {
        type: 'line',
        data: data1,
        options: 
        {
            responsive: true,
            interaction: {
                mode: 'index',
                intersect: false,
            },
            stacked: false,
            plugins: {
                title: {
                    display: true,
                    text: 'Comparaison du tarif normal et jeune SNCF en fonction du nombre de voyages'
                },
                tooltips: {
                    callbacks: {
                        afterTitle: function(context) {
                            return context.parsed.y + ' trajets';
                        }
                    }
                }
            },
            scales: {
                y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'Prix en euros'
                        },
                    },

                x: {
                    type: 'linear',
                    display: true,
                    position: 'left',
                    title: {
                        display: true,
                        text: 'Nombre de trajets'
                    },
                    ticks: {
                        min: 1,
                        stepSize: 1
                    },
                },
            },
        },
    };

    const data2 = {
        labels: ["Carte SNCF", "Trajets", "Différence de tarif"],
        datasets: [
            {
            label: "Population (millions)",
            backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f"],
            data: [49,127,12]
            }
        ]
    };

    const config2 = {
        type: 'doughnut',
        data: data2,
        options: {
            title: {
                display: true,
                text: 'Décomposition du tarif jeune',
                floating: true,
            }
        }
    };
    
    const chart1 = new Chart(document.getElementById('chart1'), config1);
    const chart2 = new Chart(document.getElementById('chart2'), config2);
  </script>
</body>